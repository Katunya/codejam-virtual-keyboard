!function(e){var t={};function i(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0)}([function(e,t,i){"use strict";i.r(t);i(1);function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=function(){function e(t,i){var n=t.key,o=t.code,a=t.shiftKey,s=void 0===a?null:a,r=t.size,c=void 0===r?null:r,l=t.isControlKey,y=void 0!==l&&l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=null,this.key=n,this.code=o,this.shiftKey=s,this.size=c,this.isControlKey=y,this.language=i,this.isUpperCase=!1,this.init()}var t,i,o;return t=e,(i=[{key:"init",value:function(){this.el=document.createElement("div"),this.el.className="key",this.size&&this.el.classList.add("key_size_".concat(this.size)),this.el.dataset.code=this.code,this.render()}},{key:"render",value:function(){this.shiftKey&&(this.el.dataset.shiftKey=this.shiftKeyLabel),this.el.innerText=this.label}},{key:"setActive",value:function(){var e=this;this.el.classList.add("key_active"),setTimeout((function(){e.el.classList.remove("key_active")}),300)}},{key:"setLanguage",value:function(e){this.language=e,this.render()}},{key:"toggleCase",value:function(){this.isUpperCase=!this.isUpperCase,this.render()}},{key:"label",get:function(){var e=this.key.ru&&this.key.en?this.key[this.language]:this.key;return this.isUpperCase&&!this.isControlKey?e.toUpperCase():e}},{key:"shiftKeyLabel",get:function(){return this.shiftKey.ru&&this.shiftKey.en?this.shiftKey[this.language]:this.shiftKey}}])&&n(t.prototype,i),o&&n(t,o),e}();function a(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.language="ru",this.altKeyClicked=!1,this.shiftKeyClicked=!1,this.keyboardTemplate=t,this.el=null,this.field=null,this.keys=[]}var t,i,n;return t=e,(i=[{key:"init",value:function(){var e=this;localStorage.getItem("language")?this.language=localStorage.getItem("language"):localStorage.setItem("language",this.language),this.render(),document.addEventListener("click",(function(t){var i=e.keys.find((function(e){return e.el===t.target}));i&&("Shift"===i.key&&(e.altKeyClicked&&e.changeLanguage(),e.shiftKeyClicked=!e.shiftKeyClicked,e.toggleCapsLock()),e.triggerKey(i,t),"Alt"!==i.key&&e.altKeyClicked&&(e.altKeyClicked=!1),"Shift"!==i.key&&e.shiftKeyClicked&&(e.shiftKeyClicked=!1,e.toggleCapsLock()))})),document.addEventListener("keyup",(function(t){var i=e.keys.find((function(e){return e.code===t.code}));i&&e.triggerKey(i,t)}))}},{key:"render",value:function(){var e=this;this.field=document.createElement("textarea"),this.field.className="field",this.field.disabled="disabled",document.body.append(this.field),this.el=document.createElement("div"),this.el.className="keyboard",this.keyboardTemplate.forEach((function(t,i){t.forEach((function(t){var n=new o(t,e.language);n.el.classList.add("key_row_".concat(i+1)),e.el.append(n.el),e.keys.push(n)}))})),document.body.append(this.el)}},{key:"changeLanguage",value:function(){var e=this;this.language="ru"===this.language?"en":"ru",localStorage.setItem("language",this.language),this.keys.forEach((function(t){return t.setLanguage(e.language)}))}},{key:"toggleCapsLock",value:function(){this.keys.forEach((function(e){return e.toggleCase()}))}},{key:"triggerKey",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;switch(this.field.blur(),e.setActive(),e.code){case"Backspace":this.field.value=this.field.value.slice(0,-1);break;case"CapsLock":this.toggleCapsLock();break;case"Enter":this.field.value+="\n";break;case"Space":this.field.value+=" ";break;case"AltLeft":case"AltRight":t.shiftKey?this.changeLanguage():this.altKeyClicked=!0;break;case"Tab":case"Delete":case"MetaLeft":case"MetaRight":case"ShiftLeft":case"ShiftRight":case"ControlLeft":case"ControlRight":break;default:var i=(t.shiftKey||this.shiftKeyClicked)&&e.shiftKey,n=i?e.shiftKeyLabel:e.el.innerText;t.shiftKey?this.field.value+=n.toUpperCase():this.field.value+=n}}}])&&a(t.prototype,i),n&&a(t,n),e}(),r=[[{key:{ru:"ё",en:"`"},code:"Backquote"},{key:"1",shiftKey:"!",code:"Digit1"},{key:"2",shiftKey:{ru:'"',en:"@"},code:"Digit2"},{key:"3",shiftKey:{ru:"№",en:"#"},code:"Digit3"},{key:"4",shiftKey:{ru:";",en:"$"},code:"Digit4"},{key:"5",shiftKey:"%",code:"Digit5"},{key:"6",shiftKey:{ru:":",en:"^"},code:"Digit6"},{key:"7",shiftKey:{ru:"?",en:"&"},code:"Digit7"},{key:"8",shiftKey:"*",code:"Digit8"},{key:"9",shiftKey:"(",code:"Digit9"},{key:"0",shiftKey:")",code:"Digit0"},{key:"-",shiftKey:"_",code:"Minus"},{key:"=",shiftKey:"+",code:"Equal"},{key:"Backspace",code:"Backspace",size:2,isControlKey:!0}],[{key:"Tab",code:"Tab",isControlKey:!0},{key:{ru:"й",en:"q"},code:"KeyQ"},{key:{ru:"ц",en:"w"},code:"KeyW"},{key:{ru:"у",en:"e"},code:"KeyE"},{key:{ru:"к",en:"r"},code:"KeyR"},{key:{ru:"е",en:"t"},code:"KeyT"},{key:{ru:"н",en:"y"},code:"KeyY"},{key:{ru:"г",en:"u"},code:"KeyU"},{key:{ru:"ш",en:"i"},code:"KeyI"},{key:{ru:"щ",en:"o"},code:"KeyO"},{key:{ru:"з",en:"p"},code:"KeyP"},{key:{ru:"х",en:"["},code:"BracketLeft"},{key:{ru:"ъ",en:"]"},code:"BracketRight"},{key:"\\",shiftKey:"/",code:"Backslash"},{key:"Del",code:"Delete",isControlKey:!0}],[{key:"CapsLock",code:"CapsLock",size:2,isControlKey:!0},{key:{ru:"ф",en:"a"},code:"KeyA"},{key:{ru:"ы",en:"s"},code:"KeyS"},{key:{ru:"в",en:"d"},code:"KeyD"},{key:{ru:"а",en:"f"},code:"KeyF"},{key:{ru:"п",en:"g"},code:"KeyG"},{key:{ru:"р",en:"h"},code:"KeyH"},{key:{ru:"о",en:"j"},code:"KeyJ"},{key:{ru:"л",en:"k"},code:"KeyK"},{key:{ru:"д",en:"l"},code:"KeyL"},{key:{ru:"ж",en:";"},code:"Semicolon"},{key:{ru:"э",en:"'"},code:"Quote"},{key:"Enter",code:"Enter",size:2,isControlKey:!0}],[{key:"Shift",code:"ShiftLeft",size:"2-half",isControlKey:!0},{key:{ru:"я",en:"z"},code:"KeyZ"},{key:{ru:"ч",en:"x"},code:"KeyX"},{key:{ru:"с",en:"c"},code:"KeyC"},{key:{ru:"м",en:"v"},code:"KeyV"},{key:{ru:"и",en:"b"},code:"KeyB"},{key:{ru:"т",en:"n"},code:"KeyN"},{key:{ru:"ь",en:"m"},code:"KeyM"},{key:{ru:"б",en:","},code:"Comma"},{key:{ru:"ю",en:"."},code:"Period"},{key:{ru:".",en:"/"},code:"Slash"},{key:"Shift",code:"ShiftRight",size:"2-half",isControlKey:!0}],[{key:"Ctrl",code:"ControlLeft",size:"1-half",isControlKey:!0},{key:"Win",code:"MetaLeft",size:"1-half",isControlKey:!0},{key:"Alt",code:"AltLeft",size:"1-half",isControlKey:!0},{key:"",code:"Space",size:6},{key:"Alt",code:"AltRight",size:"1-half",isControlKey:!0},{key:"Win",code:"MetaRight",size:"1-half",isControlKey:!0},{key:"Ctrl",code:"ControlRight",size:"1-half",isControlKey:!0}]];document.addEventListener("DOMContentLoaded",(function(){new s(r).init()}))},function(e,t){}]);